<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Food Swamps, U.S.</title>
	<!-- IMPORTING StyleSheets Fonts -->
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
		integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
	<!-- Leaflet CSS -->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
		integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
		crossorigin="" />
	<!-- Goldman Font -->
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Goldman&display=swap" rel="stylesheet">
	<!-- Hind Siliguri Font -->
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Goldman&family=Hind+Siliguri:wght@300&display=swap" rel="stylesheet">
	<style>
		/* ELEMENTS | IDs | CLASSES */
		body {
			background: #20282e;
			font-family: 'Open Sans', sans-serif;
			font-weight: 400;
		}

		h1 {
			font-weight: 800;
			font-family:'Goldman';
		}

		h3 {
			font-weight: 200;
			font-family: 'Hind Siliguri';
			color:#f0ad4e;
		}

		p {
			line-height: 1.7rem;
		}

		a {
			color: #6a79ff;
			text-decoration:underline;
		}

		#map {
		position: absolute;
		width: 100%;
		top: 0;
		bottom: 0;
		}

		.picture {
		width: 30px;
		height: 20px;
		float: left;
		margin-right: 10px;
		}

		label {
		font-size: 1.1em;
		font-weight: bold;
		}

		footer {
		padding: 6px;
		width: 80%;
		}

	/* MOBILE-FRIENDLY SETTINGS */
		/* Small devices (landscape phones, 576px and up) */
		@media (min-width: 576px) {}
		/* Medium devices (tablets, 768px and up) */
		@media (min-width: 768px) {
			aside {
				height: 80vh;
			}
		}
		/* Large devices (desktops, 992px and up) */
		@media (min-width: 992px) {}
		/* Extra large devices (large desktops, 1200px and up) */
		@media (min-width: 1200px) {}
	</style>

</head>

<!--  BODY -->
<body>
	<div class="container-fluid">
		<header class="row bg-dark text-white py-3" 
		style="background-image: 
		url('https://wallpaperaccess.com/full/1306075.jpg'); background-repeat: no-repeat; background-size: cover;">
			<div class="col, ">
				<h1 class="txt-center">Food Swamps in the U.S.</h1>
			</div>
			<div class="bg-image"></div>
		</header>

		<section class="row">
			<div class="col-md-8 col-lg-9 col-xl-10 order-md-2 px-0">
				<div id="map"></div>
				<div style="background-image: 
				url('https://cdn.hipwallpaper.com/i/14/15/f4VKHu.jpg'); background-repeat: no-repeat; background-size: cover;">
				  </div>
				  <div class="picture">
					
				  </div>
			</div>
			<aside id="about"
				class="col-md-4 col-lg-3 col-xl-2 order-md-1 text-white py-2 pl-3 bg-body overflow-auto">
				<section>
					<h3 class="py-2 text-warning">Food Swamps?</h3>
					<p>Most people are familar with the term <span class="text-warning">food deserts</span>, which defines low-income census tracts
						without quick access to healty food. More specifically, if travel exceeds 1/2 a mile for 
						urban areas and 10 miles for rural that area is considered a desert. 
						<br><br>
						The term <span class="text-success">food swamps</span> has recently surfaced, providing a "spatial metaphor"
						relative to deserts. Some believed the notion that census tracts labeled as
						a desert correlates to a literal lack of food. A swamp negates that assumption because where 
						organic food is sparse, fast food is plentiful.

					<h3 class="py-2 text-warning">Correlations</h3>
					<p>The pattern above is created by fast food restaurants overlapped by urban areas, correlating to a few geosocial issues.
						The most common being that diseases are more likely in areas inundated
						with fast food. The second is that fast food is more prevalent in lower-income communities.
						Although classified by a lack of organic food, it is possible
						low-income urban areas contain food swamps if organic food is financially unaccessible.
						<br><br>
						If you would like to learn more about the underlying causes of food swamps, 
						check out this <a target="_blank" href="https://medium.com/@olivialimone/mapping-food-deserts-and-swamps-in-manhattan-and-the-bronx-46c6d8fc0804">Food Swamps</a> 
						article written by Olivia Limone and Nadia Sanchez. Their article and abstract was the foundation for this 
						small write-up.
					</p>
					</p>
				</section>
			</aside>
		</section>
		<!-- FOOTER -->
		<footer class="row bg-dark text-warning" >
			<div class="col">
				<ul class="list-unstyled">
					<li>Authored by Michael A. Thomas - <a href="https://math264.github.io/">Portolio</a> @ NEWMAPSPLUS</li>
					<li>December 23, 2020</li>
					<li>states & urban: <a target="_blank" href="https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html">source</a></li>
					<li>food: <a target="_blank" href="https://data.world/datafiniti/fast-food-restaurants-across-america">source</a></li>
				</ul>
			</div>
			<hr>
			<div class="col">
			<a href="https://newmapsplus.github.io">
				<img src="https://newmapsplus.github.io/assets/graphics/logo-2018-nmp-75px-h-gray.png"
					alt="University of Kentucky Geography">
			</a>
	
			<a href="https://uky-gis.github.io">
				<img src="https://newmapsplus.github.io/assets/graphics/logo-2018-geography-75px-h.png"
					alt="University of Kentucky Geography">
			</a>
			</div>
		</footer>
	</div>

	<!-- JQUERY -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"
  	integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  	crossorigin="anonymous"></script>
  	<!-- AJAX -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
    </script>
	<!-- Bootstrap CSS -->
  	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
    </script>
	<!-- Leafleft -->
  	<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
	 <!-- LOADING D3.js LIBRARY -->
	 <script src="https://d3js.org/d3.v6.min.js"></script> <!-- New version of D3 released September 2020-->

	<!-- CUSTOM JS CODE -->
	<script>
		// map options
		const options = {
      scrollWheelZoom: false,
      zoomSnap: .1,
      dragging: false,
      zoomControl: false,
      center: [40, -100],
      zoom: 4
    }

    // CREATE LEAFLET MAP
    const map = L.map('map', options);

    // TILELAYER REQUEST
    const tiles = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/dark_all/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
      subdomains: 'abcd'
    }).addTo(map);

    // // AJAX REQUEST for FOOD data
    // const fastfood = $.getJSON("data/food.geojson", function (food) {
    //     // console.log(food)
    //   // Calling DRAWMAP Function with GeoJSON and Colorize Function
    //   drawMap(food);
    // });

	// LOADING FILES using d3.json()
    // request our data files and reference with variables
    const stateGeojson = d3.json('./data/states.geojson')
    const foodGeojson = d3.json('./data/food.geojson')
    const urbanGeojson = d3.json('./data/urban.geojson')

    // wait until data is loaded then send to draw map function
    Promise.all([stateGeojson, foodGeojson, urbanGeojson]).then(drawMap);
    //

	// DRAWMAP FUNCTION
    function drawMap(data) {
		const stateData = data[0];
      const foodData = data[1];
      const urbanData = data[2];
      // Creating stateLayer
      const stateLayer = L.geoJson(data[0], {
        style: function (feature) {
          return {
            color: '#000000',
            weight: 1,
            fillOpacity: 0.25,
            fillColor: '#CBCBCB'
          };
        },
      }).addTo(map);
	// Creating foodLayer
	  const foodLayer = L.geoJson(data[1], {
        pointToLayer: function (data, ll) {
          return L.circleMarker(ll, {
            color: '#f0ad4e',
            radius: .09,
			fillOpacity: 0.5
          });
        }
      }).addTo(map);
	//  Creating urbanLayer
	  const urbanLayer = L.geoJson(data[2], {
        style: function (feature) {
          return {
            color: '#20282e',
            weight: 1,
            fillOpacity: 1,
            fillColor: '#5cb85c'
          };
        },
      }).addTo(map);
    }

	</script>
</body>

</html>
